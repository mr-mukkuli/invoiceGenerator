<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice & Receipt Generator</title>
    <link rel="icon" type="image/png" href="invoice.png">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>

<body>
    <div class="container">
        <header class="app-header">
            <div class="header-content">
                <div>
                    <h1>Invoice & Receipt Generator</h1>
                    <p class="subtitle">Create professional invoices and receipts</p>
                </div>
                <div class="header-controls">
                    <button type="button" id="darkModeToggle" class="btn-icon" title="Toggle Dark Mode">
                        <span class="dark-mode-icon">üåô</span>
                    </button>
                </div>
            </div>
        </header>

        <div class="content-wrapper">
            <form id="invoiceForm">
                <!-- Settings Row -->
                <div class="settings-row">
                    <div class="form-group">
                        <label for="currency">Currency</label>
                        <select id="currency">
                            <option value="ZMW" selected>ZMW - Zambian Kwacha (K)</option>
                            <option value="USD">USD - US Dollar ($)</option>
                            <option value="EUR">EUR - Euro (‚Ç¨)</option>
                            <option value="GBP">GBP - British Pound (¬£)</option>
                            <option value="ZAR">ZAR - South African Rand (R)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="template">Template</label>
                        <select id="template">
                            <option value="modern" selected>Modern Blue</option>
                            <option value="classic">Classic Green</option>
                            <option value="elegant">Elegant Purple</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="logoUpload">Logo</label>
                        <input type="file" id="logoUpload" accept="image/*">
                    </div>
                </div>

                <!-- Invoice Details -->
                <div class="section-header">
                    <h2>Invoice Details</h2>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="invoiceNumber">Invoice #</label>
                        <input type="text" id="invoiceNumber" value="INV-0001" readonly>
                    </div>
                    <div class="form-group">
                        <label for="invoiceDate">Date</label>
                        <input type="date" id="invoiceDate" required>
                    </div>
                    <div class="form-group">
                        <label for="dueDate">Due Date</label>
                        <input type="date" id="dueDate" required>
                    </div>
                </div>

                <!-- Business Info -->
                <div class="section-header">
                    <h2>Your Business</h2>
                    <div class="preset-buttons">
                        <button type="button" id="saveBusinessPreset" class="btn-small">üíæ Save</button>
                        <button type="button" id="loadBusinessPreset" class="btn-small">üìÇ Load</button>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="businessName">Name</label>
                        <input type="text" id="businessName" placeholder="Your Company Name" required>
                    </div>
                    <div class="form-group">
                        <label for="businessEmail">Email</label>
                        <input type="email" id="businessEmail" placeholder="contact@company.com" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="businessAddress">Address</label>
                    <textarea id="businessAddress" rows="2" placeholder="123 Milimo rd, Lusaka, Zambia"
                        required></textarea>
                </div>

                <!-- Client Info -->
                <div class="section-header">
                    <h2>Bill To</h2>
                    <div class="preset-buttons">
                        <button type="button" id="saveClientPreset" class="btn-small">üíæ Save</button>
                        <button type="button" id="loadClientPreset" class="btn-small">üìÇ Load</button>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="clientName">Name</label>
                        <input type="text" id="clientName" placeholder="Client Name" required>
                    </div>
                    <div class="form-group">
                        <label for="clientEmail">Email</label>
                        <input type="email" id="clientEmail" placeholder="client@email.com" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="clientAddress">Address</label>
                    <textarea id="clientAddress" rows="2" placeholder="456 Milimo rd, Lusaka, Zambia"
                        required></textarea>
                </div>

                <!-- Line Items -->
                <div class="section-header">
                    <h2>Line Items</h2>
                    <button type="button" id="addLineItem" class="btn-small">+ Add</button>
                </div>
                <div id="lineItemsContainer">
                    <div class="line-item">
                        <input type="text" class="item-description" placeholder="Description" required>
                        <input type="number" class="item-quantity" min="1" value="1" placeholder="Qty" required>
                        <input type="number" class="item-rate" min="0" step="0.01" placeholder="Rate" required>
                        <input type="text" class="item-amount" readonly value="0.00" placeholder="Amount">
                        <button type="button" class="btn-remove" disabled>√ó</button>
                    </div>
                </div>

                <!-- Tax and Totals -->
                <div class="totals-section">
                    <div class="form-group tax-input">
                        <label for="taxRate">Tax Rate (%)</label>
                        <input type="number" id="taxRate" min="0" max="100" step="0.01" value="0" placeholder="0.00">
                    </div>
                    <div class="totals-display">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="subtotalDisplay">K 0.00</span>
                        </div>
                        <div class="total-row">
                            <span>Tax (<span id="taxRateDisplay">0</span>%):</span>
                            <span id="taxDisplay">K 0.00</span>
                        </div>
                        <div class="total-row total-final">
                            <span>Total:</span>
                            <span id="totalDisplay">K 0.00</span>
                        </div>
                    </div>
                </div>

                <!-- Notes -->
                <div class="form-group">
                    <label for="notes">Notes</label>
                    <textarea id="notes" rows="2" placeholder="Payment terms or notes..."></textarea>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button type="button" id="previewInvoice" class="btn btn-secondary">üëÅÔ∏è Preview</button>
                    <button type="button" id="generateInvoice" class="btn btn-primary">üìÑ Invoice PDF</button>
                    <button type="button" id="generateReceipt" class="btn btn-success">‚úì Receipt PDF</button>
                    <button type="button" id="newInvoice" class="btn btn-secondary">+ New</button>
                    <button type="reset" class="btn btn-secondary">Clear</button>
                </div>
            </form>
        </div>

        <footer class="app-footer">
            <p>Invoice & Receipt Generator - ZMW Currency Support</p>
        </footer>
    </div>

    <!-- Preview Modal -->
    <div id="previewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Invoice Preview</h2>
                <button type="button" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="previewContent" class="preview-invoice"></div>
            </div>
            <div class="modal-footer">
                <button type="button" id="closePreview" class="btn btn-secondary">Close</button>
                <button type="button" id="generateFromPreview" class="btn btn-primary">Generate PDF</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>